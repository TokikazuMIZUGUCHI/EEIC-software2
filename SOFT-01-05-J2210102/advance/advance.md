# Week5課題3

## 焼きなまし法により巡回セールスマン問題を解く
 - advanceの中に入っている．
 - 与えられたソースコードから変更したのはsolve.cとmain.cのみ．
 - solve.cでは関数simmulated_annealing内で乱数を生成（初期解）→ その解のうち2都市の入れ替え → total_distanceが小さくなるまたは特別な条件（後述）を満たした場合のみ更新 → tempertureが小さくなるまで繰り返す.
### 特別な条件について  
- 山登り法と同様にスコアがよくなる方向には無条件で移動する．加えて一定の確率でスコアが悪くなる方向に移動することで局所最適解を回避する可能性を高くする.
- 一定の確率はトータルの移動距離をdとしてexp(d/temperature)で定める．
- temperatureと冷却速度c(0<ｃ<1)を定義しtemperatureが一定以下になるまで繰り返す．

### 初期解の個数と結果に関する考察
city20seed50.datを実行した結果                                                                             
                                                                      
                            C_0                                        
                **C_19        **                                         
            **   **        *  **                                       
            C_6     **     *     **                                     
            *        **  *        *                                    
                C_11      *C_1        **                                  
                *                       **                       C_10     
                *                         *                     **        
            *                           **     C_12*********C_7        
            *                             **  *               *        
            *                               *C_15             C_14     
            *                                         C_9     *         
            *                                        *  C_4* *          
            C_13                                    **       C_5         
            *                                     **                     
            *                                   **                       
            *                                  *                         
            *                                **                          
            *       C_18                   **                            
            *      *   **                C_8                             
            *       *     **            **                                
            *       *       **       ***                                  
            *       *         **   **                                     
            *       C_3         C_2                                       
            *     **                                                      
            *   C_17                                                      
            * **                                                          
        C_16                                                           
             
      
    <Simulated Annealing>
    初期解1:  159.448340
    初期解2:  155.305481
    初期解3:  153.590733
    初期解4:  153.590733
    初期解5: 153.590733
    初期解10: 153.590733
    初期解100: 153.163090
    total distance = 153.163090
    初期解 100 個
    0 -> 1 -> 19 -> 6 -> 11 -> 13 -> 16 -> 17 -> 3 -> 18 -> 2 -> 8 -> 9 -> 4 -> 5 -> 14 -> 10 -> 7 -> 12 -> 15 -> 0

- 初期解の個数が増えるにしたがって結果が改善していることが分かる．
- 山登り法よりも少ない初期解の個数で最適解（に近いもの）に到達することができている.